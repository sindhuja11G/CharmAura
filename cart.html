<!DOCTYPE html>
<html lang="en">
  <head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TKRS6H06ZZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TKRS6H06ZZ');
</script> 

    
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>CharmAura — Cart</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --accent: #ffd700;
        --dark: #111;
        --muted: #666;
        --bg: #fafafa;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: "Poppins", sans-serif;
        background: var(--bg);
        color: #111;
      }
      header {
        background: var(--dark);
        color: #fff;
        padding: 12px 22px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      .logo {
        width: 40px;
        height: 40;
        border-radius: 8px;
        background: linear-gradient(135deg, var(--accent), #ffb84d);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        color: #111;
      }
      main {
        padding: 26px 6%;
      }
      h1 {
        margin: 0 0 12px;
      }
      .cart-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }
      .item {
        display: flex;
        gap: 12px;
        background: #fff;
        padding: 12px;
        border-radius: 12px;
        align-items: center;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
      }
      .item img {
        width: 92px;
        height: 92px;
        object-fit: cover;
        border-radius: 8px;
      }
      .info {
        flex: 1;
      }
      .info h3 {
        margin: 0 0 6px;
      }
      .qty {
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .qty button {
        padding: 6px 10px;
        border-radius: 8px;
        border: 1px solid #ddd;
        background: transparent;
        cursor: pointer;
      }
      .summary {
        background: #fff;
        padding: 18px;
        border-radius: 12px;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
      }
      .flex {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
      }
      .muted {
        color: var(--muted);
      }
      .btn {
        background: var(--accent);
        border: none;
        padding: 12px 16px;
        border-radius: 10px;
        cursor: pointer;
        font-weight: 600;
      }
      .ghost {
        background: transparent;
        border: 1px solid #ddd;
        padding: 10px;
        border-radius: 10px;
        cursor: pointer;
      }
      footer {
        padding: 20px;
        text-align: center;
        background: #222;
        color: #fff;
        margin-top: 30px;
      }
      @media (max-width: 720px) {
        .flex {
          flex-direction: column;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div
        style="display: flex; gap: 12px; align-items: center; cursor: pointer"
        onclick="location.href='index.html'"
      >
        <div class="logo">CA</div>
        <div style="color: #fff; font-weight: 700">CharmAura</div>
      </div>
      <div style="display: flex; gap: 10px; align-items: center">
        <a href="products.html" style="color: #fff; text-decoration: none"
          >Continue Shopping</a
        >
      </div>
    </header>

    <main>
      <h1>Your Cart</h1>
      <div class="flex">
        <div style="flex: 1">
          <div id="cart-list" class="cart-list"></div>
        </div>

        <div style="width: 320px">
          <div class="summary">
            <h3>Order Summary</h3>
            <p class="muted" id="summary-items">0 items</p>
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin: 12px 0;
              "
            >
              <div class="muted">Subtotal</div>
              <div id="subtotal">₹0</div>
            </div>
            <div style="display: flex; justify-content: space-between">
              <div class="muted">Shipping</div>
              <div id="shipping">₹0</div>
            </div>
            <hr style="margin: 12px 0" />
            <div
              style="
                display: flex;
                justify-content: space-between;
                font-weight: 700;
              "
            >
              <div>Total</div>
              <div id="total">₹0</div>
            </div>
            <div style="margin-top: 12px">
              <button class="btn" id="checkout">Proceed to Payment</button>
              <button
                class="ghost"
                id="clear-cart"
                style="width: 100%; margin-top: 8px"
              >
                Clear Cart
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer>© 2025 CharmAura</footer>

    <script>
      // cart logic using localStorage
      function getCart() {
        try {
          return JSON.parse(localStorage.getItem("charm_cart") || "{}");
        } catch (e) {
          return {};
        }
      }
      function saveCart(c) {
        localStorage.setItem("charm_cart", JSON.stringify(c));
        renderCart();
        updateCartBadge();
      }
      function updateCartBadge() {
        const c = getCart();
        let q = 0;
        for (const k in c) q += c[k].qty;
        localStorage.setItem("charm_cart_count", q);
      } // for other pages
      const cartList = document.getElementById("cart-list");
      const subtotalEl = document.getElementById("subtotal");
      const shippingEl = document.getElementById("shipping");
      const totalEl = document.getElementById("total");
      const summaryItems = document.getElementById("summary-items");

      function renderCart() {
        const cart = getCart();
        cartList.innerHTML = "";
        const keys = Object.keys(cart);
        if (keys.length === 0) {
          cartList.innerHTML = `
    <div style="padding:20px;background:#fff;border-radius:12px;text-align:center;box-shadow:0 6px 18px rgba(0,0,0,0.04)">
      Your cart is empty.<br><br>
      <button class="btn" onclick="location.href='products.html'">Shop now</button>
    </div>
  `;

          subtotalEl.textContent = "₹0";
          shippingEl.textContent = "₹0";
          totalEl.textContent = "₹0";
          summaryItems.textContent = "0 items";
          return;
        }

        let sub = 0;
        keys.forEach((k) => {
          const it = cart[k];
          const item = document.createElement("div");
          item.className = "item";
          item.innerHTML = `
            <img src="${it.img}" alt="${it.title}">
            <div class="info">
              <h3>${it.title}</h3>
              <div style="display:flex;gap:12px;align-items:center">
                <div class="qty">
                  <button onclick="changeQty('${k}', -1)">−</button>
                  <div style="padding:6px 10px;border-radius:8px;border:1px solid #eee">${
                    it.qty
                  }</div>
                  <button onclick="changeQty('${k}', 1)">+</button>
                </div>
                <div style="margin-left:auto;font-weight:700">₹${(
                  it.price * it.qty
                ).toLocaleString()}</div>
              </div>
              <div style="margin-top:8px;font-size:13px;color:var(--muted)">
                <button onclick="removeItem('${k}')" style="background:transparent;border:none;color:#c33;cursor:pointer">Remove</button>
              </div>
            </div>`;
          cartList.appendChild(item);
          sub += it.price * it.qty;
        });

        const shipping = sub >= 1999 ? 0 : 99; // example rule
        subtotalEl.textContent = "₹" + sub.toLocaleString();
        shippingEl.textContent = shipping === 0 ? "Free" : "₹" + shipping;
        totalEl.textContent = "₹" + (sub + shipping).toLocaleString();
        summaryItems.textContent = `${keys.reduce(
          (a, k) => a + cart[k].qty,
          0
        )} items`;
        updateCartBadge();
      }

      function changeQty(id, delta) {
        const cart = getCart();
        if (!cart[id]) return;
        cart[id].qty += delta;
        if (cart[id].qty <= 0) delete cart[id];
        saveCart(cart);
      }

      function removeItem(id) {
        const cart = getCart();
        delete cart[id];
        saveCart(cart);
      }

      document.getElementById("clear-cart").addEventListener("click", () => {
        if (confirm("Clear all items from cart?")) {
          localStorage.removeItem("charm_cart");
          renderCart();
          updateCartBadge();
        }
      });

      document.getElementById("checkout").addEventListener("click", () => {
        const cart = getCart();
        if (Object.keys(cart).length === 0) {
          alert("Your cart is empty");
          return;
        }
        // pass minimal data to payment via localStorage
        const sub = (() => {
          let s = 0;
          for (const k in cart) s += cart[k].qty * cart[k].price;
          return s;
        })();
        const shipping = sub >= 1999 ? 0 : 99;
        localStorage.setItem(
          "charm_checkout",
          JSON.stringify({
            subtotal: sub,
            shipping: shipping,
            total: sub + shipping,
          })
        );
        location.href = "https://charm-aura.vercel.app/payment.html";
      });

      // initial render
      renderCart();

      // also update badge on load (used by other pages)
      updateCartBadge();
    </script>
  </body>
</html>












